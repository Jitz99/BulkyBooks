@model List<Product>

<div class="card shadow border-0 my-4">
	<div class="card-header bg-secondary bg-gradient ml-0 py-3">
		<div class="row">
			<div class="col-12 text-center">
				<h2 class="text-white py-2">Product List</h2>
			</div>
		</div>
	</div>
	<div class="card-body p-4">
		<div class="row pb-3">
			<div class="col-6">
			</div>
			<div class="col-6 text-end">
				<a asp-controller="Product" asp-action="Upsert" class="btn btn-primary">
					<i class="bi bi-plus-circle"></i>  Create New Product
				</a>
			</div>
		</div>

		<table id="myTable" class="table table-bordered table-striped" style="width:100%">
			<thead>
				<tr>
					<th>Title</th>
					<th>ISBN</th>
					<th>Price</th>
					<th>Author</th>
					<th>Category</th>
					<th></th>
				</tr>
			</thead>
		</table>

	</div>
</div>

@section Scripts {
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/2.1.3/js/dataTables.js"></script>
	<script type="text/javascript">
		$('#tblData').DataTable({
			"ajax": {
				"url": "/admin/product/getall",
				"type": "GET",
				"datatype": "json",
				error:function(err){
					console.log(err);
				}
			},
			"columns": [
				{ data: 'title', "width": "25%" },
				{ data: 'isbn', "width": "15%" },
				{ data: 'listPrice', "width": "10%" },
				{ data: 'author', "width": "15%" },
				{ data: 'category.name', "width": "10%" },
				//{
				//    data: 'id',
				//    "render": function (data) {
				//        return `<div class="w-75 btn-group" role="group">
				//         <a href="/admin/product/upsert?id=${data}" class="btn btn-primary mx-2"> <i class="bi bi-pencil-square"></i> Edit</a>
				//         <a onClick=Delete('/admin/product/delete/${data}') class="btn btn-danger mx-2"> <i class="bi bi-trash-fill"></i> Delete</a>
				//        </div>`
				//    },
				//    "width": "25%"
				//}
			]
		});
	</script>
			}
			@* //{
					//    data: 'id',
					//    "render": function (data) {
					//        return `<div class="w-75 btn-group" role="group">
	//         <a href="/admin/product/upsert?id=${data}" class="btn btn-primary mx-2"> <i class="bi bi-pencil-square"></i> Edit</a>
	//         <a onClick=Delete('/admin/product/delete/${data}') class="btn btn-danger mx-2"> <i class="bi bi-trash-fill"></i> Delete</a>
	//
</div>`
					//    },
					//    "width": "25%"
					//} *@

@* <script src="~/js/product.js"></script> *@
@*@model List<Product>
<div class=" card shadow border-0 mt-4">
	<div class="card-header bg-secondary bg-gradient m-0 py-3">
		<div class="row">
			<div class="col-12 text-center">
				<h2 class="text-white py-2">Product List</h2>
			</div>
		</div>
	</div>
	<div class="card-body p-4">
			<div class="row pb-4">
				<div class="col-6">
				</div>
				<div class="col-6 text-end">
					<a asp-controller="Product" asp-action="Upsert" class="btn btn-primary">
						<i class="bi bi-plus-circle-dotted"></i>
						Create New Product
					</a>
				</div>
			</div>

		<table id="tblData" class="table table-bordered table-striped" style="width:100%">
			<thead>
				<tr>
					<th>Title</th>
					<th>ISBN</th>
					<th>Price</th>
					<th>Author</th>
					<th>Category</th>
					<th></th>
				</tr>
			</thead>
		</table>
	</div>

</div>
@section Scripts {
	<script  src="~/js/product.js" defer></script>
} *@
﻿